(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{813:function(e,t,a){Promise.resolve().then(a.bind(a,9257))},9257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(7437),r=a(2265),l=a(6727),n=a(1396),c=a.n(n);function i(e){var t;let{post:a}=e,{theme:r}=(0,l.useTheme)();return(0,s.jsxs)("div",{className:"rounded-lg p-6 ".concat("dark"===r?"bg-gray-800":"bg-white border border-[#DBEAFE]"),children:[(0,s.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(c(),{href:"/user/forum/posts/".concat(a.id),className:"text-xl font-bold hover:underline ".concat("dark"===r?"text-white":"text-[#1E40AF]"),children:a.title}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"dark"===r?"text-blue-400":"text-[#3B82F6]",children:a.authorName}),(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("dark"===r?"bg-purple-900 text-purple-300":"bg-[#DBEAFE] text-[#3B82F6]"),children:a.authorRank}),(0,s.jsx)("span",{className:"dark"===r?"text-gray-500":"text-gray-400",children:new Date(a.createdAt).toLocaleDateString()})]})]})}),(0,s.jsx)("p",{className:"mb-4 line-clamp-3 ".concat("dark"===r?"text-gray-300":"text-gray-600"),children:a.content}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:null===(t=a.tags)||void 0===t?void 0:t.map(e=>(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("dark"===r?"bg-gray-700 text-gray-300":"bg-[#DBEAFE] text-[#3B82F6]"),children:e},e))}),(0,s.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,s.jsxs)("button",{className:"flex items-center space-x-1 ".concat("dark"===r?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-[#3B82F6]"),children:[(0,s.jsx)("span",{children:"\uD83D\uDC4D"}),(0,s.jsx)("span",{children:a.likes})]}),(0,s.jsxs)(c(),{href:"/user/forum/posts/".concat(a.id,"#comments"),className:"flex items-center space-x-1 ".concat("dark"===r?"text-gray-400 hover:text-blue-400":"text-gray-500 hover:text-[#3B82F6]"),children:[(0,s.jsx)("span",{children:"\uD83D\uDCAC"}),(0,s.jsx)("span",{children:a.commentsCount})]})]})]})}function d(e){let{onSubmit:t,onCancel:a,initialData:l={}}=e,[n,c]=(0,r.useState)(l.title||""),[i,d]=(0,r.useState)(l.content||""),[o,x]=(0,r.useState)(l.tags||[]),[u,m]=(0,r.useState)(""),[h,b]=(0,r.useState)(!1),g=()=>{u.trim()&&!o.includes(u.trim())&&(x([...o,u.trim()]),m(""))},p=e=>{x(o.filter(t=>t!==e))},f=async e=>{if(e.preventDefault(),n.trim()&&i.trim()){b(!0);try{await t({title:n.trim(),content:i.trim(),tags:o})}finally{b(!1)}}};return(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg p-6",children:(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"タイトル"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"投稿のタイトルを入力...",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"本文"}),(0,s.jsx)("textarea",{value:i,onChange:e=>d(e.target.value),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2 min-h-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"投稿内容を入力...",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"タグ"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),g()),className:"flex-1 bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"タグを入力..."}),(0,s.jsx)("button",{type:"button",onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"追加"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>(0,s.jsxs)("span",{className:"bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-sm flex items-center",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>p(e),className:"ml-2 text-blue-300 hover:text-blue-100",children:"\xd7"})]},e))})]}),(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"text-gray-300 mb-2",children:"プレビュー"}),(0,s.jsx)("h4",{className:"text-xl font-bold mb-2",children:n||"タイトル"}),(0,s.jsx)("p",{className:"text-gray-300 whitespace-pre-wrap mb-4",children:i||"本文"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map(e=>(0,s.jsx)("span",{className:"bg-blue-900 text-blue-300 px-2 py-1 rounded-full text-xs",children:e},e))})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,s.jsx)("button",{type:"button",onClick:a,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"キャンセル"}),(0,s.jsx)("button",{type:"submit",disabled:h||!n.trim()||!i.trim(),className:"px-6 py-2 rounded-lg text-white ".concat(!h&&n.trim()&&i.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 cursor-not-allowed"),children:h?"投稿中...":"投稿する"})]})]})})}let o=[{id:"1",title:"AIプロンプトエンジニアリングのベストプラクティス",content:"プロンプトエンジニアリングの効果的な手法について...",authorId:"1",authorName:"AI Master",authorRank:"極伝",createdAt:new Date,updatedAt:new Date,likes:42,commentsCount:15,tags:["AI","プロンプト","テクニック"],isVisible:!0},{id:"2",title:"AIモデルの最適化手法について",content:"大規模言語モデルの最適化方法を解説...",authorId:"2",authorName:"Tech Guru",authorRank:"皆伝",createdAt:new Date,updatedAt:new Date,likes:38,commentsCount:23,tags:["AI","最適化","パフォーマンス"],isVisible:!0}];function x(){let{theme:e}=(0,l.useTheme)(),[t,a]=(0,r.useState)(o),[n,c]=(0,r.useState)(""),[x,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),b=async e=>{try{console.log("Create post:",e),h(!1)}catch(e){console.error("Failed to create post:",e)}};return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-4 ".concat("dark"===e?"bg-gray-900":"bg-[#F8FAFC]"),children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4 ".concat("dark"===e?"text-white":"text-[#1E40AF]"),children:"コミュニティフォーラム"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 rounded-lg ".concat("dark"===e?"bg-blue-600 hover:bg-blue-700":"bg-[#3B82F6] hover:bg-[#2563EB]"," text-white"),children:"新規投稿"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"search",placeholder:"投稿を検索...",className:"rounded-lg px-4 py-2 w-64 ".concat("dark"===e?"bg-gray-700 text-white":"bg-white border border-[#DBEAFE] text-[#1E40AF]"),value:n,onChange:e=>c(e.target.value)})})]})]}),(0,s.jsx)("div",{className:"mb-6 flex flex-wrap gap-2",children:Array.from(new Set(o.flatMap(e=>e.tags))).map(t=>(0,s.jsx)("button",{className:"px-3 py-1 rounded-full text-sm ".concat(x===t?"dark"===e?"bg-blue-600 text-white":"bg-[#3B82F6] text-white":"dark"===e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-white border border-[#DBEAFE] text-[#3B82F6] hover:bg-[#DBEAFE]"),onClick:()=>u(t===x?null:t),children:t},t))}),(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,s.jsx)(i,{post:e},e.id))}),(0,s.jsx)("div",{className:"flex justify-center mt-8",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg ".concat("dark"===e?"bg-gray-700":"bg-white border border-[#DBEAFE] text-[#3B82F6]"),children:"前へ"}),(0,s.jsx)("button",{className:"px-4 py-2 text-white rounded-lg ".concat("dark"===e?"bg-blue-600":"bg-[#3B82F6]"),children:"1"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg ".concat("dark"===e?"bg-gray-700":"bg-white border border-[#DBEAFE] text-[#3B82F6]"),children:"2"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg ".concat("dark"===e?"bg-gray-700":"bg-white border border-[#DBEAFE] text-[#3B82F6]"),children:"3"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg ".concat("dark"===e?"bg-gray-700":"bg-white border border-[#DBEAFE] text-[#3B82F6]"),children:"次へ"})]})}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"w-full max-w-4xl rounded-lg ".concat("dark"===e?"bg-gray-900":"bg-white"),children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6 ".concat("dark"===e?"text-white":"text-[#1E40AF]"),children:"新規投稿"}),(0,s.jsx)(d,{onSubmit:b,onCancel:()=>h(!1)})]})})})]})}},6727:function(e,t,a){"use strict";a.r(t),a.d(t,{ThemeProvider:function(){return n},useTheme:function(){return c}});var s=a(7437),r=a(2265);let l=(0,r.createContext)({theme:"light",device:"desktop",toggleTheme:()=>{}});function n(e){let{children:t}=e,[a,n]=(0,r.useState)("light"),[c,i]=(0,r.useState)("desktop"),[d,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{o(!0);let e=localStorage.getItem("theme");e&&(n(e),document.documentElement.className=e);let t=()=>{i(window.innerWidth<768?"mobile":"desktop")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),d)?(0,s.jsx)(l.Provider,{value:{theme:a,device:c,toggleTheme:()=>{let e="dark"===a?"light":"dark";n(e),localStorage.setItem("theme",e),document.documentElement.className=e}},children:t}):null}function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}}},function(e){e.O(0,[176,971,596,744],function(){return e(e.s=813)}),_N_E=e.O()}]);