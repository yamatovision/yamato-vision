"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/user/layout",{

/***/ "(app-pages-browser)/./src/app/user/layout.tsx":
/*!*********************************!*\
  !*** ./src/app/user/layout.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ UserLayout; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _contexts_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/contexts/theme */ \"(app-pages-browser)/./src/contexts/theme.tsx\");\n/* harmony import */ var _lib_hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/hooks/useAuth */ \"(app-pages-browser)/./src/lib/hooks/useAuth.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _shared_BottomNavigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shared/BottomNavigation */ \"(app-pages-browser)/./src/app/user/shared/BottomNavigation.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction UserLayout(param) {\n    let { children } = param;\n    _s();\n    const { theme } = (0,_contexts_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n    const { user } = (0,_lib_hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{\n        if (!user) {\n            router.push(\"/login\");\n        } else if (user.rank === \"退会者\") {\n            router.push(\"/login\");\n        }\n    }, [\n        user\n    ]);\n    if (!user || user.rank === \"退会者\") return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen pb-20 \".concat(theme === \"dark\" ? \"bg-gray-900 text-white\" : \"bg-[#F8FAFC] text-[#1E40AF]\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"max-w-7xl mx-auto px-4\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/tatsuyashiraishi/Desktop/yamato-vision/frontend/src/app/user/layout.tsx\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_shared_BottomNavigation__WEBPACK_IMPORTED_MODULE_5__.BottomNavigation, {}, void 0, false, {\n                fileName: \"/Users/tatsuyashiraishi/Desktop/yamato-vision/frontend/src/app/user/layout.tsx\",\n                lineNumber: 30,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/tatsuyashiraishi/Desktop/yamato-vision/frontend/src/app/user/layout.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\n_s(UserLayout, \"2wWez3hn9BGsw/eY1Noh1IFZhRc=\", false, function() {\n    return [\n        _contexts_theme__WEBPACK_IMPORTED_MODULE_1__.useTheme,\n        _lib_hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__.useAuth,\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter\n    ];\n});\n_c = UserLayout;\nvar _c;\n$RefreshReg$(_c, \"UserLayout\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvdXNlci9sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ0U7QUFDRjtBQUNWO0FBQzJCO0FBQzlDLFNBQVNLLFdBQVcsS0FBMkM7UUFBM0MsRUFBRUMsUUFBUSxFQUFpQyxHQUEzQzs7SUFDakMsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR1AseURBQVFBO0lBQzFCLE1BQU0sRUFBRVEsSUFBSSxFQUFFLEdBQUdQLDJEQUFPQTtJQUN4QixNQUFNUSxTQUFTUCwwREFBU0E7SUFFeEJDLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDSyxNQUFNO1lBQ1RDLE9BQU9DLElBQUksQ0FBQztRQUNkLE9BQU8sSUFBSUYsS0FBS0csSUFBSSxLQUFLLE9BQU87WUFDOUJGLE9BQU9DLElBQUksQ0FBQztRQUNkO0lBQ0YsR0FBRztRQUFDRjtLQUFLO0lBRVQsSUFBSSxDQUFDQSxRQUFRQSxLQUFLRyxJQUFJLEtBQUssT0FBTyxPQUFPO0lBRXpDLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFXLHNCQUVmLE9BRENOLFVBQVUsU0FBUywyQkFBMkI7OzBCQUU5Qyw4REFBQ087Z0JBQUtELFdBQVU7MEJBQ2JQOzs7Ozs7MEJBRUgsOERBQUNGLHNFQUFnQkE7Ozs7Ozs7Ozs7O0FBR3ZCO0dBekJ3QkM7O1FBQ0pMLHFEQUFRQTtRQUNUQyx1REFBT0E7UUFDVEMsc0RBQVNBOzs7S0FIRkciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2FwcC91c2VyL2xheW91dC50c3g/ZDhkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnQC9jb250ZXh0cy90aGVtZSc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9saWIvaG9va3MvdXNlQXV0aCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm90dG9tTmF2aWdhdGlvbiB9IGZyb20gJy4vc2hhcmVkL0JvdHRvbU5hdmlnYXRpb24nO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVXNlckxheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IHsgdGhlbWUgfSA9IHVzZVRoZW1lKCk7XG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdXNlcikge1xuICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpO1xuICAgIH0gZWxzZSBpZiAodXNlci5yYW5rID09PSAn6YCA5Lya6ICFJykge1xuICAgICAgcm91dGVyLnB1c2goJy9sb2dpbicpO1xuICAgIH1cbiAgfSwgW3VzZXJdKTtcblxuICBpZiAoIXVzZXIgfHwgdXNlci5yYW5rID09PSAn6YCA5Lya6ICFJykgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YG1pbi1oLXNjcmVlbiBwYi0yMCAke1xuICAgICAgdGhlbWUgPT09ICdkYXJrJyA/ICdiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlJyA6ICdiZy1bI0Y4RkFGQ10gdGV4dC1bIzFFNDBBRl0nXG4gICAgfWB9PlxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNFwiPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L21haW4+XG4gICAgICA8Qm90dG9tTmF2aWdhdGlvbiAvPlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VUaGVtZSIsInVzZUF1dGgiLCJ1c2VSb3V0ZXIiLCJ1c2VFZmZlY3QiLCJCb3R0b21OYXZpZ2F0aW9uIiwiVXNlckxheW91dCIsImNoaWxkcmVuIiwidGhlbWUiLCJ1c2VyIiwicm91dGVyIiwicHVzaCIsInJhbmsiLCJkaXYiLCJjbGFzc05hbWUiLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/user/layout.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/api/auth.ts":
/*!*****************************!*\
  !*** ./src/lib/api/auth.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: function() { return /* binding */ authOptions; }\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n\nconst API_URL = \"http://localhost:3001/api\" || 0;\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_URL,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n// リクエストインターセプター\napi.interceptors.request.use((config)=>{\n    if (true) {\n        const token = localStorage.getItem(\"auth_token\");\n        if (token) {\n            config.headers.Authorization = \"Bearer \".concat(token);\n        }\n    }\n    return config;\n});\n// レスポンスインターセプター\napi.interceptors.response.use((response)=>response, async (error)=>{\n    var _error_response;\n    if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 401) {\n        if (true) {\n            localStorage.removeItem(\"auth_token\");\n            if (!window.location.pathname.includes(\"/login\")) {\n                window.location.href = \"/login\";\n            }\n        }\n    }\n    return Promise.reject(error);\n});\nconst authOptions = {\n    providers: [],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    callbacks: {\n        async session (param) {\n            let { session, token } = param;\n            return session;\n        },\n        async jwt (param) {\n            let { token, user } = param;\n            if (user) {\n                token.userId = user.id;\n            }\n            return token;\n        }\n    }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (api);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXBpL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7QUFHMUMsTUFBTUMsVUFBVUMsMkJBQStCLElBQUk7QUFFbkQsTUFBTUcsTUFBTUwsNkNBQUtBLENBQUNNLE1BQU0sQ0FBQztJQUN2QkMsU0FBU047SUFDVE8sU0FBUztRQUNQLGdCQUFnQjtJQUNsQjtBQUNGO0FBRUEsZ0JBQWdCO0FBQ2hCSCxJQUFJSSxZQUFZLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUNDO0lBQzVCLElBQUksSUFBa0IsRUFBYTtRQUNqQyxNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7UUFDbkMsSUFBSUYsT0FBTztZQUNURCxPQUFPSixPQUFPLENBQUNRLGFBQWEsR0FBRyxVQUFnQixPQUFOSDtRQUMzQztJQUNGO0lBQ0EsT0FBT0Q7QUFDVDtBQUVBLGdCQUFnQjtBQUNoQlAsSUFBSUksWUFBWSxDQUFDUSxRQUFRLENBQUNOLEdBQUcsQ0FDM0IsQ0FBQ00sV0FBYUEsVUFDZCxPQUFPQztRQUNEQTtJQUFKLElBQUlBLEVBQUFBLGtCQUFBQSxNQUFNRCxRQUFRLGNBQWRDLHNDQUFBQSxnQkFBZ0JDLE1BQU0sTUFBSyxLQUFLO1FBQ2xDLElBQUksSUFBa0IsRUFBYTtZQUNqQ0wsYUFBYU0sVUFBVSxDQUFDO1lBQ3hCLElBQUksQ0FBQ0MsT0FBT0MsUUFBUSxDQUFDQyxRQUFRLENBQUNDLFFBQVEsQ0FBQyxXQUFXO2dCQUNoREgsT0FBT0MsUUFBUSxDQUFDRyxJQUFJLEdBQUc7WUFDekI7UUFDRjtJQUNGO0lBQ0EsT0FBT0MsUUFBUUMsTUFBTSxDQUFDVDtBQUN4QjtBQUdLLE1BQU1VLGNBQStCO0lBQzFDQyxXQUFXLEVBQUU7SUFDYkMsU0FBUztRQUNQQyxVQUFVO0lBQ1o7SUFDQUMsT0FBTztRQUNMQyxRQUFRO0lBQ1Y7SUFDQUMsV0FBVztRQUNULE1BQU1KLFNBQVEsS0FBa0I7Z0JBQWxCLEVBQUVBLE9BQU8sRUFBRWpCLEtBQUssRUFBRSxHQUFsQjtZQUNaLE9BQU9pQjtRQUNUO1FBQ0EsTUFBTUssS0FBSSxLQUFlO2dCQUFmLEVBQUV0QixLQUFLLEVBQUV1QixJQUFJLEVBQUUsR0FBZjtZQUNSLElBQUlBLE1BQU07Z0JBQ1J2QixNQUFNd0IsTUFBTSxHQUFHRCxLQUFLRSxFQUFFO1lBQ3hCO1lBQ0EsT0FBT3pCO1FBQ1Q7SUFDRjtBQUNGLEVBQUU7QUFFRiwrREFBZVIsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2FwaS9hdXRoLnRzPzg4M2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zRXJyb3IgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnO1xuXG5jb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAxL2FwaSc7XG5cbmNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IEFQSV9VUkwsXG4gIGhlYWRlcnM6IHtcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuXG4vLyDjg6rjgq/jgqjjgrnjg4jjgqTjg7Pjgr/jg7zjgrvjg5fjgr/jg7xcbmFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoKGNvbmZpZykgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25maWc7XG59KTtcblxuLy8g44Os44K544Od44Oz44K544Kk44Oz44K/44O844K744OX44K/44O8XG5hcGkuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShcbiAgKHJlc3BvbnNlKSA9PiByZXNwb25zZSxcbiAgYXN5bmMgKGVycm9yOiBBeGlvc0Vycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJyk7XG4gICAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvbG9naW4nKSkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW10sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgc2lnbkluOiAnL2xvZ2luJyxcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4udXNlcklkID0gdXNlci5pZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgYXBpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhSZXNwb25zZSB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHRva2VuPzogc3RyaW5nO1xuICB1c2VyPzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIHJhbms6IHN0cmluZztcbiAgICBtb25nb0lkPzogc3RyaW5nO1xuICB9O1xuICBtZXNzYWdlPzogc3RyaW5nO1xufVxuIl0sIm5hbWVzIjpbImF4aW9zIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiYXBpIiwiY3JlYXRlIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiQXV0aG9yaXphdGlvbiIsInJlc3BvbnNlIiwiZXJyb3IiLCJzdGF0dXMiLCJyZW1vdmVJdGVtIiwid2luZG93IiwibG9jYXRpb24iLCJwYXRobmFtZSIsImluY2x1ZGVzIiwiaHJlZiIsIlByb21pc2UiLCJyZWplY3QiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsInNlc3Npb24iLCJzdHJhdGVneSIsInBhZ2VzIiwic2lnbkluIiwiY2FsbGJhY2tzIiwiand0IiwidXNlciIsInVzZXJJZCIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/api/auth.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/hooks/useAuth.ts":
/*!**********************************!*\
  !*** ./src/lib/hooks/useAuth.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/react.mjs\");\n/* harmony import */ var zustand_middleware__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand/middleware */ \"(app-pages-browser)/./node_modules/zustand/esm/middleware.mjs\");\n/* harmony import */ var _lib_api_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/api/auth */ \"(app-pages-browser)/./src/lib/api/auth.ts\");\n\n\n\nconst isValidUserRank = (rank)=>{\n    const validRanks = [\n        \"お試し\",\n        \"退会者\",\n        \"初伝\",\n        \"中伝\",\n        \"奥伝\",\n        \"皆伝\",\n        \"管理者\"\n    ];\n    return validRanks.includes(rank);\n};\nconst validateUser = (user)=>{\n    if (!user.rank || !isValidUserRank(user.rank)) {\n        throw new Error(\"Invalid user rank\");\n    }\n    return {\n        id: user.id,\n        email: user.email,\n        name: user.name,\n        rank: user.rank,\n        mongoId: user.mongoId\n    };\n};\nconst useAuth = (0,zustand__WEBPACK_IMPORTED_MODULE_1__.create)()((0,zustand_middleware__WEBPACK_IMPORTED_MODULE_2__.persist)((set, get)=>({\n        user: null,\n        loading: true,\n        error: null,\n        initialized: false,\n        checkAuth: async ()=>{\n            console.log(\"checkAuth: Starting auth check\");\n            try {\n                const token = localStorage.getItem(\"auth_token\");\n                if (!token) {\n                    console.log(\"checkAuth: No token found\");\n                    set({\n                        loading: false\n                    });\n                    return;\n                }\n                console.log(\"checkAuth: Token found, verifying...\");\n                const response = await _lib_api_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/auth/verify\");\n                const { success, user: rawUser } = response.data;\n                if (success && rawUser) {\n                    console.log(\"checkAuth: Verification successful\");\n                    const validatedUser = validateUser(rawUser);\n                    set({\n                        user: validatedUser,\n                        loading: false,\n                        error: null\n                    });\n                } else {\n                    console.log(\"checkAuth: Verification failed\");\n                    localStorage.removeItem(\"auth_token\");\n                    set({\n                        user: null,\n                        loading: false\n                    });\n                }\n            } catch (error) {\n                console.error(\"checkAuth: Error during verification\", error);\n                localStorage.removeItem(\"auth_token\");\n                set({\n                    user: null,\n                    loading: false\n                });\n            } finally{\n                console.log(\"checkAuth: Complete\", {\n                    state: get(),\n                    timestamp: new Date().toISOString()\n                });\n            }\n        },\n        login: async (emailOrToken, password)=>{\n            console.log(\"login: Starting login process\");\n            set({\n                loading: true,\n                error: null\n            });\n            try {\n                let response;\n                if (password) {\n                    console.log(\"login: Attempting password login\");\n                    response = await _lib_api_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"/auth/login\", {\n                        email: emailOrToken,\n                        password\n                    });\n                } else {\n                    console.log(\"login: Attempting token verification\");\n                    response = await _lib_api_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/auth/verify\", {\n                        headers: {\n                            Authorization: \"Bearer \".concat(emailOrToken)\n                        }\n                    });\n                }\n                const { success, token, user: rawUser } = response.data;\n                if (success && token && rawUser) {\n                    console.log(\"login: Login successful\");\n                    const validatedUser = validateUser(rawUser);\n                    localStorage.setItem(\"auth_token\", token);\n                    set({\n                        user: validatedUser,\n                        loading: false,\n                        error: null\n                    });\n                    return true;\n                }\n                console.log(\"login: Login failed\", response.data);\n                set({\n                    error: response.data.message || \"認証に失敗しました\",\n                    loading: false\n                });\n                return false;\n            } catch (error) {\n                console.error(\"login: Error during login\", error);\n                localStorage.removeItem(\"auth_token\");\n                set({\n                    user: null,\n                    error: \"認証に失敗しました\",\n                    loading: false\n                });\n                return false;\n            } finally{\n                console.log(\"login: Complete\", {\n                    state: get(),\n                    timestamp: new Date().toISOString()\n                });\n            }\n        },\n        logout: ()=>{\n            console.log(\"logout: Starting logout process\");\n            localStorage.removeItem(\"auth_token\");\n            set({\n                user: null,\n                loading: false,\n                error: null\n            });\n            console.log(\"logout: Complete\", {\n                timestamp: new Date().toISOString()\n            });\n        },\n        setInitialized: (state)=>{\n            console.log(\"setInitialized:\", {\n                current: get().initialized,\n                new: state,\n                timestamp: new Date().toISOString()\n            });\n            set({\n                initialized: state,\n                loading: false // 初期化完了時にloadingをfalseに設定\n            });\n        },\n        setLoading: (state)=>{\n            console.log(\"setLoading:\", {\n                current: get().loading,\n                new: state,\n                timestamp: new Date().toISOString()\n            });\n            set({\n                loading: state\n            });\n        }\n    }), {\n    name: \"auth-storage\",\n    partialize: (state)=>({\n            user: state.user\n        })\n}));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvaG9va3MvdXNlQXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ1k7QUFDTTtBQWVuRCxNQUFNRyxrQkFBa0IsQ0FBQ0M7SUFDdkIsTUFBTUMsYUFBeUI7UUFBQztRQUFPO1FBQU87UUFBTTtRQUFNO1FBQU07UUFBTTtLQUFNO0lBQzVFLE9BQU9BLFdBQVdDLFFBQVEsQ0FBQ0Y7QUFDN0I7QUFFQSxNQUFNRyxlQUFlLENBQUNDO0lBQ3BCLElBQUksQ0FBQ0EsS0FBS0osSUFBSSxJQUFJLENBQUNELGdCQUFnQkssS0FBS0osSUFBSSxHQUFHO1FBQzdDLE1BQU0sSUFBSUssTUFBTTtJQUNsQjtJQUVBLE9BQU87UUFDTEMsSUFBSUYsS0FBS0UsRUFBRTtRQUNYQyxPQUFPSCxLQUFLRyxLQUFLO1FBQ2pCQyxNQUFNSixLQUFLSSxJQUFJO1FBQ2ZSLE1BQU1JLEtBQUtKLElBQUk7UUFDZlMsU0FBU0wsS0FBS0ssT0FBTztJQUN2QjtBQUNGO0FBRU8sTUFBTUMsVUFBVWQsK0NBQU1BLEdBQzNCQywyREFBT0EsQ0FDTCxDQUFDYyxLQUFLQyxNQUFTO1FBQ2JSLE1BQU07UUFDTlMsU0FBUztRQUNUQyxPQUFPO1FBQ1BDLGFBQWE7UUFFYkMsV0FBVztZQUNUQyxRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJO2dCQUNGLE1BQU1DLFFBQVFDLGFBQWFDLE9BQU8sQ0FBQztnQkFDbkMsSUFBSSxDQUFDRixPQUFPO29CQUNWRixRQUFRQyxHQUFHLENBQUM7b0JBQ1pQLElBQUk7d0JBQUVFLFNBQVM7b0JBQU07b0JBQ3JCO2dCQUNGO2dCQUVBSSxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osTUFBTUksV0FBVyxNQUFNeEIscURBQUdBLENBQUNjLEdBQUcsQ0FBZTtnQkFDN0MsTUFBTSxFQUFFVyxPQUFPLEVBQUVuQixNQUFNb0IsT0FBTyxFQUFFLEdBQUdGLFNBQVNHLElBQUk7Z0JBRWhELElBQUlGLFdBQVdDLFNBQVM7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QzNDO1FBQ0Y7UUFFQStCLFlBQVksQ0FBQ2hCO1lBQ1hYLFFBQVFDLEdBQUcsQ0FBQyxlQUFlO2dCQUN6QndCLFNBQVM5QixNQUFNQyxPQUFPO2dCQUN0QjhCLEtBQUtmO2dCQUNMQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDbkM7WUFDQXBCLElBQUk7Z0JBQUVFLFNBQVNlO1lBQU07UUFDdkI7SUFDRixJQUNBO0lBQ0VwQixNQUFNO0lBQ05xQyxZQUFZLENBQUNqQixRQUFXO1lBQUV4QixNQUFNd0IsTUFBTXhCLElBQUk7UUFBQztBQUM3QyxJQUVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvaG9va3MvdXNlQXV0aC50cz9jOTAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgYXBpLCB7IEF1dGhSZXNwb25zZSB9IGZyb20gJ0AvbGliL2FwaS9hdXRoJztcbmltcG9ydCB7IFVzZXIsIFVzZXJSYW5rIH0gZnJvbSAnQC90eXBlcy9hdXRoJztcblxuaW50ZXJmYWNlIEF1dGhTdGF0ZSB7XG4gIHVzZXI6IFVzZXIgfCBudWxsO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgaW5pdGlhbGl6ZWQ6IGJvb2xlYW47XG4gIGxvZ2luOiAoZW1haWxPclRva2VuOiBzdHJpbmcsIHBhc3N3b3JkPzogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xuICBsb2dvdXQ6ICgpID0+IHZvaWQ7XG4gIHNldEluaXRpYWxpemVkOiAoc3RhdGU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldExvYWRpbmc6IChzdGF0ZTogYm9vbGVhbikgPT4gdm9pZDtcbiAgY2hlY2tBdXRoOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xufVxuXG5jb25zdCBpc1ZhbGlkVXNlclJhbmsgPSAocmFuazogc3RyaW5nKTogcmFuayBpcyBVc2VyUmFuayA9PiB7XG4gIGNvbnN0IHZhbGlkUmFua3M6IFVzZXJSYW5rW10gPSBbJ+OBiuippuOBlycsICfpgIDkvJrogIUnLCAn5Yid5LydJywgJ+S4reS8nScsICflpaXkvJ0nLCAn55qG5LydJywgJ+euoeeQhuiAhSddO1xuICByZXR1cm4gdmFsaWRSYW5rcy5pbmNsdWRlcyhyYW5rIGFzIFVzZXJSYW5rKTtcbn07XG5cbmNvbnN0IHZhbGlkYXRlVXNlciA9ICh1c2VyOiBhbnkpOiBVc2VyID0+IHtcbiAgaWYgKCF1c2VyLnJhbmsgfHwgIWlzVmFsaWRVc2VyUmFuayh1c2VyLnJhbmspKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHVzZXIgcmFuaycpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogdXNlci5pZCxcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgcmFuazogdXNlci5yYW5rIGFzIFVzZXJSYW5rLFxuICAgIG1vbmdvSWQ6IHVzZXIubW9uZ29JZFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSBjcmVhdGU8QXV0aFN0YXRlPigpKFxuICBwZXJzaXN0KFxuICAgIChzZXQsIGdldCkgPT4gKHtcbiAgICAgIHVzZXI6IG51bGwsXG4gICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBpbml0aWFsaXplZDogZmFsc2UsXG5cbiAgICAgIGNoZWNrQXV0aDogYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tBdXRoOiBTdGFydGluZyBhdXRoIGNoZWNrJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGVja0F1dGg6IE5vIHRva2VuIGZvdW5kJyk7XG4gICAgICAgICAgICBzZXQoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tBdXRoOiBUb2tlbiBmb3VuZCwgdmVyaWZ5aW5nLi4uJyk7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PEF1dGhSZXNwb25zZT4oJy9hdXRoL3ZlcmlmeScpO1xuICAgICAgICAgIGNvbnN0IHsgc3VjY2VzcywgdXNlcjogcmF3VXNlciB9ID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoc3VjY2VzcyAmJiByYXdVc2VyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tBdXRoOiBWZXJpZmljYXRpb24gc3VjY2Vzc2Z1bCcpO1xuICAgICAgICAgICAgY29uc3QgdmFsaWRhdGVkVXNlciA9IHZhbGlkYXRlVXNlcihyYXdVc2VyKTtcbiAgICAgICAgICAgIHNldCh7IHVzZXI6IHZhbGlkYXRlZFVzZXIsIGxvYWRpbmc6IGZhbHNlLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NoZWNrQXV0aDogVmVyaWZpY2F0aW9uIGZhaWxlZCcpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhfdG9rZW4nKTtcbiAgICAgICAgICAgIHNldCh7IHVzZXI6IG51bGwsIGxvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdjaGVja0F1dGg6IEVycm9yIGR1cmluZyB2ZXJpZmljYXRpb24nLCBlcnJvcik7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhfdG9rZW4nKTtcbiAgICAgICAgICBzZXQoeyB1c2VyOiBudWxsLCBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2hlY2tBdXRoOiBDb21wbGV0ZScsIHtcbiAgICAgICAgICAgIHN0YXRlOiBnZXQoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGxvZ2luOiBhc3luYyAoZW1haWxPclRva2VuOiBzdHJpbmcsIHBhc3N3b3JkPzogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2dpbjogU3RhcnRpbmcgbG9naW4gcHJvY2VzcycpO1xuICAgICAgICBzZXQoeyBsb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3BvbnNlO1xuXG4gICAgICAgICAgaWYgKHBhc3N3b3JkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbG9naW46IEF0dGVtcHRpbmcgcGFzc3dvcmQgbG9naW4nKTtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXBpLnBvc3Q8QXV0aFJlc3BvbnNlPignL2F1dGgvbG9naW4nLCB7XG4gICAgICAgICAgICAgIGVtYWlsOiBlbWFpbE9yVG9rZW4sXG4gICAgICAgICAgICAgIHBhc3N3b3JkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luOiBBdHRlbXB0aW5nIHRva2VuIHZlcmlmaWNhdGlvbicpO1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0PEF1dGhSZXNwb25zZT4oJy9hdXRoL3ZlcmlmeScsIHtcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtlbWFpbE9yVG9rZW59YFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IHN1Y2Nlc3MsIHRva2VuLCB1c2VyOiByYXdVc2VyIH0gPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChzdWNjZXNzICYmIHRva2VuICYmIHJhd1VzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2dpbjogTG9naW4gc3VjY2Vzc2Z1bCcpO1xuICAgICAgICAgICAgY29uc3QgdmFsaWRhdGVkVXNlciA9IHZhbGlkYXRlVXNlcihyYXdVc2VyKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoX3Rva2VuJywgdG9rZW4pO1xuICAgICAgICAgICAgc2V0KHsgdXNlcjogdmFsaWRhdGVkVXNlciwgbG9hZGluZzogZmFsc2UsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luOiBMb2dpbiBmYWlsZWQnLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICBzZXQoeyBcbiAgICAgICAgICAgIGVycm9yOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ+iqjeiovOOBq+WkseaVl+OBl+OBvuOBl+OBnycsIFxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2UgXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignbG9naW46IEVycm9yIGR1cmluZyBsb2dpbicsIGVycm9yKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgICAgIHNldCh7IFxuICAgICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICAgIGVycm9yOiAn6KqN6Ki844Gr5aSx5pWX44GX44G+44GX44GfJywgXG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luOiBDb21wbGV0ZScsIHtcbiAgICAgICAgICAgIHN0YXRlOiBnZXQoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGxvZ291dDogKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnbG9nb3V0OiBTdGFydGluZyBsb2dvdXQgcHJvY2VzcycpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpO1xuICAgICAgICBzZXQoeyBcbiAgICAgICAgICB1c2VyOiBudWxsLCBcbiAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwgXG4gICAgICAgICAgZXJyb3I6IG51bGwgXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnbG9nb3V0OiBDb21wbGV0ZScsIHtcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cbiAgICAgIHNldEluaXRpYWxpemVkOiAoc3RhdGUpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NldEluaXRpYWxpemVkOicsIHtcbiAgICAgICAgICBjdXJyZW50OiBnZXQoKS5pbml0aWFsaXplZCxcbiAgICAgICAgICBuZXc6IHN0YXRlLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pO1xuICAgICAgICBzZXQoeyBcbiAgICAgICAgICBpbml0aWFsaXplZDogc3RhdGUsXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UgLy8g5Yid5pyf5YyW5a6M5LqG5pmC44GrbG9hZGluZ+OCkmZhbHNl44Gr6Kit5a6aXG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgc2V0TG9hZGluZzogKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZXRMb2FkaW5nOicsIHtcbiAgICAgICAgICBjdXJyZW50OiBnZXQoKS5sb2FkaW5nLFxuICAgICAgICAgIG5ldzogc3RhdGUsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSk7XG4gICAgICAgIHNldCh7IGxvYWRpbmc6IHN0YXRlIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIHtcbiAgICAgIG5hbWU6ICdhdXRoLXN0b3JhZ2UnLFxuICAgICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiAoeyB1c2VyOiBzdGF0ZS51c2VyIH0pLFxuICAgIH1cbiAgKVxuKTsiXSwibmFtZXMiOlsiY3JlYXRlIiwicGVyc2lzdCIsImFwaSIsImlzVmFsaWRVc2VyUmFuayIsInJhbmsiLCJ2YWxpZFJhbmtzIiwiaW5jbHVkZXMiLCJ2YWxpZGF0ZVVzZXIiLCJ1c2VyIiwiRXJyb3IiLCJpZCIsImVtYWlsIiwibmFtZSIsIm1vbmdvSWQiLCJ1c2VBdXRoIiwic2V0IiwiZ2V0IiwibG9hZGluZyIsImVycm9yIiwiaW5pdGlhbGl6ZWQiLCJjaGVja0F1dGgiLCJjb25zb2xlIiwibG9nIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzcG9uc2UiLCJzdWNjZXNzIiwicmF3VXNlciIsImRhdGEiLCJ2YWxpZGF0ZWRVc2VyIiwicmVtb3ZlSXRlbSIsInN0YXRlIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibG9naW4iLCJlbWFpbE9yVG9rZW4iLCJwYXNzd29yZCIsInBvc3QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInNldEl0ZW0iLCJtZXNzYWdlIiwibG9nb3V0Iiwic2V0SW5pdGlhbGl6ZWQiLCJjdXJyZW50IiwibmV3Iiwic2V0TG9hZGluZyIsInBhcnRpYWxpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/hooks/useAuth.ts\n"));

/***/ })

});